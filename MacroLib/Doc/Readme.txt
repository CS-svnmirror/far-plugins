Far Macro Library
-----------------

Плагин предназначен для управления макросами FAR, хранимыми в текстовом формате.

Плагин использует собственный формат файла - FML (Far Macro Library). В одном
FML файле может быть записано произвольное количество макросов. При запуске
плагин ищет все FML файлы в заданном каталоге (по умолчанию - подкаталог Macros
в каталоге плагина). Если макросу назначена горячая клавиша, то он будет 
вызван автоматически при ее нажатии. Макросы, которым не назначена горячая
клавиша, можно вызывать через меню плагина. Если на одну горячую клавишу
назначено несколько макросов, то при ее нажатии будет предложено выбрать один
из них.

Данный плагин можно использовать совместно с обычными макросами, хранящимися
в реестре. Плагин обладает приоритетом, при обработке событий клавиатуры и мыши,
если на одну клавишу назначены макросы в FML файле и реестре, то сработают
только макросы из FML файла (если только они не "пропускают" событие для 
дальнейшей обработки FAR - см. параметр макроса EatOnRun).


Ограничения:

Поскольку плагин запускает макросы самостоятельно, а не через стандартный 
механизм запуска клавиатурных макросов FAR, то имеется ряд ограничений
(возможно, список не полный):

1. Не работают макрокоманды, возвращающие код запускающей клавиши: 
   $AKey и AKey()

2. Макросы из FML файлов не могут быть вызваны через макрофункцию Eval.

3. В текущей версии плагина нельзя назначать макросы на однократное нажатие
   префиксных клавиш Ctrl/ALt/Shift

---

Формат макро файла:

 Macro Parameter1="StrValue" Parameter2=IntValue
 {{
   Macro Sequence
 }}

Параметры (некоторые параметры имеют несколько синонимов):

 Name 
   - Имя макроса

 Description, Descr
   - Описание макроса

 Area, Areas
   - Макро область. Допустимо указание нескольких областей, через пробел.
     Если опущено, то макрос срабатывает во всех областях.

     Возможные значения:

     Shell, Editor, Viewer, Dialog, Search, Disks, Menu, MainMenu, Help,
     InfoPanel, QViewPanel, TreePanel, FindFolder, UserManu, AutoCompleteon

     Для макрообласти Dialog дополнительно можно указать GUID диалога, 
     в формате "Dialog.GUID". Например, для диалога поиска:

     Area="Dialog.{8C9EAD29-910F-4B24-A669-EDAFBA6ED964}"

 Bind, Key, Keys, Hotkey, Hotkeys
   - Горячая клавиша для запуска, в формате FAR, например: "CtrlAltF12"
     Допустимо указание нескольких клавиш, через пробел. Если опущено,
     макрос может быть вызван только через меню.

 Condition, Cond
   - Условия срабатывания макроса. Строка условий имеет формат:
       "Условие:0 Условие:1 ..."

     Если заданы несколько условий, то макрос запустится только если выполняются
     все условия (т.е. условия объединяются по and). Возможные варианты условий:

     CmdLine:0/1   - Командная строка пуста/не пуста
     Selected:0/1  - не отмечен/отмечен блок в редакторе, программе просмотра, 
                     в строках ввода в диалогах.

     PanelType:0/1     - Текущая панель: 0 - файловая, 1 - плагинная
     PanelItem:0/1     - Текущий элемент панели: 0 - файл, 1 - папка
     PanelSelected:0/1 - нет/есть выделение на текущей панели

     PPanelType, PPanelItem, PPanelSelected - аналогично, для пассивной панели


 DisableOutput=0/1, по умолчанию 1
 SendToPlugin=0/1, по умолчанию 1
   - Режимы исполнения макроса (см. документацию FAR)

 EatOnRun=0/1, по умолчанию 1
   - Если = 1 то событие вызвавшее макрос (нажатие горячей клавиши или событие
     мыши) будет удалено из очереди сообщений и не попадет в FAR.

